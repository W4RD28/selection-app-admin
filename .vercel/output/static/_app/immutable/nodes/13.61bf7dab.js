import{r as E}from"../chunks/index.ade5cbd2.js";import{S as G,i as R,s as I,a as H,k as V,y as g,a0 as F,h as _,c as q,l as J,m as K,z as h,n as L,b as d,A as k,G as Q,g as p,d as b,B as w,q as T,r as B,e as U,v as O,f as z,a3 as W,a4 as A,a5 as C,u as j,H as v}from"../chunks/index.6c4b92a0.js";import"../chunks/Indicator.svelte_svelte_type_style_lang.880982d3.js";import{H as X,B as Y}from"../chunks/Heading.24a0ab99.js";import{B as Z}from"../chunks/ButtonGroup.a7422762.js";import{T as x,a as ee,b as te,c as N,d as le,e as y}from"../chunks/TableHeadCell.76c9c9be.js";const ae=async({parent:s})=>{const{supabase:e,session:l}=await s();if(!l)throw E(303,"/admin/login");const{data:t}=await e.from("users").select("*").eq("id",l.user.id).single();(t==null?void 0:t.role)!="admin"&&await e.auth.signOut();const{data:a}=await e.from("questions").select("*"),{data:n}=await e.from("users").select("*").eq("role","user");return{session:l,questionData:a,usersData:n}},Ge=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function S(s,e,l){const t=s.slice();return t[6]=e[l],t}function ne(s){let e;return{c(){e=T("Dashboard Hasil Ujian Tertulis")},l(l){e=B(l,"Dashboard Hasil Ujian Tertulis")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function se(s){let e;return{c(){e=T("Nomor Peserta")},l(l){e=B(l,"Nomor Peserta")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function re(s){let e;return{c(){e=T("Nilai")},l(l){e=B(l,"Nilai")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function oe(s){let e;return{c(){e=T("Hasil Ujian")},l(l){e=B(l,"Hasil Ujian")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function ce(s){let e;return{c(){e=T("Aksi")},l(l){e=B(l,"Aksi")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function fe(s){let e,l,t,a,n,c,f,o;return e=new N({props:{$$slots:{default:[se]},$$scope:{ctx:s}}}),t=new N({props:{$$slots:{default:[re]},$$scope:{ctx:s}}}),n=new N({props:{$$slots:{default:[oe]},$$scope:{ctx:s}}}),f=new N({props:{$$slots:{default:[ce]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment),l=H(),g(t.$$.fragment),a=H(),g(n.$$.fragment),c=H(),g(f.$$.fragment)},l(r){h(e.$$.fragment,r),l=q(r),h(t.$$.fragment,r),a=q(r),h(n.$$.fragment,r),c=q(r),h(f.$$.fragment,r)},m(r,$){k(e,r,$),d(r,l,$),k(t,r,$),d(r,a,$),k(n,r,$),d(r,c,$),k(f,r,$),o=!0},p(r,$){const m={};$&2048&&(m.$$scope={dirty:$,ctx:r}),e.$set(m);const u={};$&2048&&(u.$$scope={dirty:$,ctx:r}),t.$set(u);const i={};$&2048&&(i.$$scope={dirty:$,ctx:r}),n.$set(i);const D={};$&2048&&(D.$$scope={dirty:$,ctx:r}),f.$set(D)},i(r){o||(p(e.$$.fragment,r),p(t.$$.fragment,r),p(n.$$.fragment,r),p(f.$$.fragment,r),o=!0)},o(r){b(e.$$.fragment,r),b(t.$$.fragment,r),b(n.$$.fragment,r),b(f.$$.fragment,r),o=!1},d(r){w(e,r),r&&_(l),w(t,r),r&&_(a),w(n,r),r&&_(c),w(f,r)}}}function $e(s){let e=s[6].id+"",l;return{c(){l=T(e)},l(t){l=B(t,e)},m(t,a){d(t,l,a)},p(t,a){a&1&&e!==(e=t[6].id+"")&&j(l,e)},d(t){t&&_(l)}}}function ue(s){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function ie(s){let e,l;return e=new y({props:{$$slots:{default:[me]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2049&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function me(s){let e=Math.round(s[10])+"",l;return{c(){l=T(e)},l(t){l=B(t,e)},m(t,a){d(t,l,a)},p(t,a){a&1&&e!==(e=Math.round(t[10])+"")&&j(l,e)},d(t){t&&_(l)}}}function _e(s){let e,l;return e=new y({props:{$$slots:{default:[pe]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function pe(s){let e;return{c(){e=T("Menghitung...")},l(l){e=B(l,"Menghitung...")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function de(s){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function be(s){let e,l,t,a;const n=[ke,he,ge],c=[];function f(o,r){return o[9]?o[9].exam_result===null?1:2:0}return e=f(s),l=c[e]=n[e](s),{c(){l.c(),t=U()},l(o){l.l(o),t=U()},m(o,r){c[e].m(o,r),d(o,t,r),a=!0},p(o,r){let $=e;e=f(o),e===$?c[e].p(o,r):(O(),b(c[$],1,1,()=>{c[$]=null}),z(),l=c[e],l?l.p(o,r):(l=c[e]=n[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){a||(p(l),a=!0)},o(o){b(l),a=!1},d(o){c[e].d(o),o&&_(t)}}}function ge(s){let e,l;return e=new y({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2049&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function he(s){let e,l;return e=new y({props:{$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function ke(s){let e,l;return e=new y({props:{$$slots:{default:[Te]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function we(s){let e=s[9].exam_result+"",l;return{c(){l=T(e)},l(t){l=B(t,e)},m(t,a){d(t,l,a)},p(t,a){a&1&&e!==(e=t[9].exam_result+"")&&j(l,e)},d(t){t&&_(l)}}}function ve(s){let e;return{c(){e=T("Belum Ada")},l(l){e=B(l,"Belum Ada")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function Te(s){let e;return{c(){e=T("Tidak Ada")},l(l){e=B(l,"Tidak Ada")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function Be(s){let e,l;return e=new y({props:{$$slots:{default:[He]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function He(s){let e;return{c(){e=T("Mengambil...")},l(l){e=B(l,"Mengambil...")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function qe(s){let e;return{c(){e=T("Detail")},l(l){e=B(l,"Detail")},m(l,t){d(l,e,t)},d(l){l&&_(e)}}}function De(s){let e,l;return e=new Y({props:{color:"blue",href:"/dashboard/exam-results/"+s[6].id,target:"_blank",$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&1&&(n.href="/dashboard/exam-results/"+t[6].id),a&2048&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function ye(s){let e,l;return e=new Z({props:{$$slots:{default:[De]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2049&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Ae(s){let e,l,t,a,n,c,f,o,r;e=new y({props:{$$slots:{default:[$e]},$$scope:{ctx:s}}});let $={ctx:s,current:null,token:null,hasCatch:!1,pending:_e,then:ie,catch:ue,value:10,blocks:[,,,]};A(t=s[1](s[6].id),$);let m={ctx:s,current:null,token:null,hasCatch:!1,pending:Be,then:be,catch:de,value:9,blocks:[,,,]};return A(n=s[2](s[6].id),m),f=new y({props:{$$slots:{default:[ye]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment),l=H(),$.block.c(),a=H(),m.block.c(),c=H(),g(f.$$.fragment),o=H()},l(u){h(e.$$.fragment,u),l=q(u),$.block.l(u),a=q(u),m.block.l(u),c=q(u),h(f.$$.fragment,u),o=q(u)},m(u,i){k(e,u,i),d(u,l,i),$.block.m(u,$.anchor=i),$.mount=()=>a.parentNode,$.anchor=a,d(u,a,i),m.block.m(u,m.anchor=i),m.mount=()=>c.parentNode,m.anchor=c,d(u,c,i),k(f,u,i),d(u,o,i),r=!0},p(u,i){s=u;const D={};i&2049&&(D.$$scope={dirty:i,ctx:s}),e.$set(D),$.ctx=s,i&1&&t!==(t=s[1](s[6].id))&&A(t,$)||C($,s,i),m.ctx=s,i&1&&n!==(n=s[2](s[6].id))&&A(n,m)||C(m,s,i);const M={};i&2049&&(M.$$scope={dirty:i,ctx:s}),f.$set(M)},i(u){r||(p(e.$$.fragment,u),p($.block),p(m.block),p(f.$$.fragment,u),r=!0)},o(u){b(e.$$.fragment,u);for(let i=0;i<3;i+=1){const D=$.blocks[i];b(D)}for(let i=0;i<3;i+=1){const D=m.blocks[i];b(D)}b(f.$$.fragment,u),r=!1},d(u){w(e,u),u&&_(l),$.block.d(u),$.token=null,$=null,u&&_(a),m.block.d(u),m.token=null,m=null,u&&_(c),w(f,u),u&&_(o)}}}function P(s){let e,l;return e=new le({props:{$$slots:{default:[Ae]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){k(e,t,a),l=!0},p(t,a){const n={};a&2049&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Ne(s){let e,l,t=s[0],a=[];for(let c=0;c<t.length;c+=1)a[c]=P(S(s,t,c));const n=c=>b(a[c],1,1,()=>{a[c]=null});return{c(){for(let c=0;c<a.length;c+=1)a[c].c();e=U()},l(c){for(let f=0;f<a.length;f+=1)a[f].l(c);e=U()},m(c,f){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(c,f);d(c,e,f),l=!0},p(c,f){if(f&7){t=c[0];let o;for(o=0;o<t.length;o+=1){const r=S(c,t,o);a[o]?(a[o].p(r,f),p(a[o],1)):(a[o]=P(r),a[o].c(),p(a[o],1),a[o].m(e.parentNode,e))}for(O(),o=t.length;o<a.length;o+=1)n(o);z()}},i(c){if(!l){for(let f=0;f<t.length;f+=1)p(a[f]);l=!0}},o(c){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)b(a[f]);l=!1},d(c){W(a,c),c&&_(e)}}}function Ue(s){let e,l,t,a;return e=new ee({props:{$$slots:{default:[fe]},$$scope:{ctx:s}}}),t=new te({props:{class:"divide-y",$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){g(e.$$.fragment),l=H(),g(t.$$.fragment)},l(n){h(e.$$.fragment,n),l=q(n),h(t.$$.fragment,n)},m(n,c){k(e,n,c),d(n,l,c),k(t,n,c),a=!0},p(n,c){const f={};c&2048&&(f.$$scope={dirty:c,ctx:n}),e.$set(f);const o={};c&2049&&(o.$$scope={dirty:c,ctx:n}),t.$set(o)},i(n){a||(p(e.$$.fragment,n),p(t.$$.fragment,n),a=!0)},o(n){b(e.$$.fragment,n),b(t.$$.fragment,n),a=!1},d(n){w(e,n),n&&_(l),w(t,n)}}}function je(s){let e,l,t,a,n,c;return t=new X({props:{tag:"h3",class:"mb-6",$$slots:{default:[ne]},$$scope:{ctx:s}}}),n=new x({props:{tiled:!0,divClass:"w-3/4",$$slots:{default:[Ue]},$$scope:{ctx:s}}}),{c(){e=H(),l=V("div"),g(t.$$.fragment),a=H(),g(n.$$.fragment),this.h()},l(f){F("svelte-1ta1asd",document.head).forEach(_),e=q(f),l=J(f,"DIV",{class:!0});var r=K(l);h(t.$$.fragment,r),a=q(r),h(n.$$.fragment,r),r.forEach(_),this.h()},h(){document.title="Dashboard Hasil Ujian Tertulis",L(l,"class","ml-10 mt-5 w-3/4")},m(f,o){d(f,e,o),d(f,l,o),k(t,l,null),Q(l,a),k(n,l,null),c=!0},p(f,[o]){const r={};o&2048&&(r.$$scope={dirty:o,ctx:f}),t.$set(r);const $={};o&2049&&($.$$scope={dirty:o,ctx:f}),n.$set($)},i(f){c||(p(t.$$.fragment,f),p(n.$$.fragment,f),c=!0)},o(f){b(t.$$.fragment,f),b(n.$$.fragment,f),c=!1},d(f){f&&_(e),f&&_(l),w(t),w(n)}}}function Me(s,e,l){let t,a,{data:n}=e;async function c(r){const{data:$,error:m}=await n.supabase.from("user_answers").select("*").eq("user_id",r);if(m)console.log(m);else return $}async function f(r){let $=0;const m=await c(r);for(let u=0;u<m.length;u++)m[u].answer===t[u].answer&&$++;return $/t.length*100}async function o(r){const{data:$,error:m}=await n.supabase.from("test_results").select("*").eq("user_id",r).single();if(m)console.log(m);else return $}return s.$$set=r=>{"data"in r&&l(3,n=r.data)},s.$$.update=()=>{s.$$.dirty&8&&l(0,{questionData:t,usersData:a}=n,a)},[a,f,o,n]}class Re extends G{constructor(e){super(),R(this,e,Me,je,I,{data:3})}}export{Re as component,Ge as universal};
